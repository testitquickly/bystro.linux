Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2025-11-21T21:53:50+02:00

====== yt-dlp ======

[ @debian @install @youtube ]

По-умолчанию в Debian установится древний ''yt-dlp'', а он уже немощный. 

===== Убрать ветерана =====

Если он есть, можно проверить версию:

''yt-dlp --version''

Ответ: 

''2025.04.30''

Убрать:

''sudo apt remove yt-dlp''

===== Поставить новую версию =====

''sudo curl -L https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp -o /usr/local/bin/yt-dlp && sudo chmod a+rx /usr/local/bin/yt-dlp''

Проверить:

''/usr/local/bin/yt-dlp --version''

Ответ «2026.02.04» радует.

Отныне и впредь запускать через 

''/usr/local/bin/yt-dlp''

Можно [[HowTo:Сделать:Симлинки и хардлинки:symlink]] на него у себя в ''~/.local/bin''

==== Добавить node.js ====

YouTube периодически изменяет механизм извлечения данных, поэтому может появиться WARNING «No supported JavaScript runtime could be found». Это ограничивает варианты для скачивания. 

Решение — установить фреймворк NodeJS (полностью): 

''curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash - && sudo apt install -y nodejs''

Проверить:

''which node''

Ожидаем ''/usr/bin/node''

''which nodejs''

Ожидаем ''/usr/bin/nodejs''

В файл с конфигурацией для скачивания файлов через yt-dlp добавить параметр обращения к NodeJS: 

''--js-runtimes node:/usr/bin/node''

===== Обновить =====

''sudo yt-dlp -U''

См. [[Software:yt-dlp]]
