Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2025-09-26T01:14:41+03:00

====== Snipe-It ======

[ @debian @install @web @snipeit ]

Управление через Docker Compose (см. [[Docker]]).

Сделать отдельный каталог:

''mkdir ~/snipeit; cd ~/snipeit''

Сгенерировать api-ключ:

'''
docker run --rm snipe/snipe-it php artisan key:generate --show
'''

Пример ответа:

''base64:AXS793LpP53'' и тд

Сделать конфиг:

''mcedit docker-compose.yml''

Вписать все параметры:

* с учетом полученного ключа API
* для простоты все пароли «''inventory123''» (так не должно быть)
* порт по-умолчанию ''8080'', я задал ''8090''
* все данные будут храниться в каталоге ''/home/astenix/snipeit'', а через двоеточие мы скажем Docker условный каталог, в котором якобы будут находиться данные томов, потому что ''/var/lib/mysql'' — обязательный путь внутри контейнера MySQL.

{{{code: lang="yaml" linenumbers="True"
services:
  mysql:
    image: mysql:8.0
    container_name: snipeit-mysql
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: inventory123
      MYSQL_DATABASE: snipeit
      MYSQL_USER: snipeit
      MYSQL_PASSWORD: inventory123
    volumes:
      - /home/astenix/snipeit/mysql:/var/lib/mysql

  snipeit:
    image: snipe/snipe-it:latest
    container_name: snipeit-app
    depends_on:
      - mysql
    ports:
      - "8090:80"
    restart: always
    environment:
      APP_KEY: base64:AXS793LpP53 и тд
      APP_URL: http://inventory.local:8090
      DB_CONNECTION: mysql
      DB_HOST: mysql
      DB_DATABASE: snipeit
      DB_USERNAME: snipeit
      DB_PASSWORD: inventory123
      MAIL_DRIVER: smtp
      MAIL_HOST: smtp.mailtrap.io
      MAIL_PORT: 2525
      MAIL_USERNAME: null
      MAIL_PASSWORD: null
      MAIL_FROM: "noreply@snipeit.local"
    volumes:
      - /home/astenix/snipeit:/var/lib/snipeit

}}}

Запуск в каталоге, в котором находится ''docker-compose.yml'':

''docker-compose up -d''

Вероятно, случится отказ 

''permission denied while trying to connect to the Docker daemon socket…''

тогда аспирин:

''sudo usermod -aG docker $USER && exec su -l $USER''

и повторить запуск.

Если проект поднялся без ошибок, открыть его в браузере — http://localhost:8090

Остановить:

''docker-compose down -d''

См. далее [[Software:Snipe-It]]
