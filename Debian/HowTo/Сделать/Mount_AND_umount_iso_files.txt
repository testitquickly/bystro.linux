Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2022-02-23T21:05:09+02:00

====== Mount AND umount iso files ======

[ @console @iso ]

Обычно образы монтируют в подкаталогах ''/mnt/''. Права в тех краях только у root или у пользователей из группы sudo.

Можно монтировать проекты в ''/media/cdrom'' Или просто в любой каталог в пользовательском пространстве.

===== Создать каталог для монтирования =====

С условным названием ''iso_files:''

''sudo mkdir -p /mnt/iso_files''

Можно оставить его навечно и в будущем каждый проект разворачивать в нём.

===== Монтировать проект =====

который условно находится в файле „disk1.iso“:

''mount -o loop ~/projects/disk1.iso /mnt/iso_files''

Это очень общий подход. Какие-то проекты надо монтировать с указанием файловой системы оптических дисков:

''mount -o loop -t iso9660 ~/projects/disk1.iso /mnt/iso_files''

Иногда проблема в том, что в системе не запущен „loop device kernel module”:

''lsmod | grep loop''

Пример ожидаемого ответа:

''loop                   32768  0''

Если нет ответа, то модуль надо запустить:

''modprobe loop''

===== Посмотреть файлы =====

''cd /mnt/iso_files & ls -l''

===== Отмонтировать проект =====

''umount /mnt/iso_files''

Иногда это невозможно — к каталогу с проектом есть обращения извне. Можно сделать

==== Грубый umount ====

''umount -f /mnt/iso_files''

==== Аккуратный umount ====

Сперва проверить, какие процессы обращаются к проекту:

''fuser -m /mnt/iso_files''

Пример ответа: 

''/mnt/disk: 23410c 23414c''

Процессы можно убить, например, через htop. Затем сделать umount:

''umount /mnt/iso_files''
