Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2024-10-26T08:59:58+03:00

====== S.M.A.R.T. ======

[ @smart @теория ]

S.M.A.R.T. (Self-Monitoring, Analysis, and Reporting Technology) — технология самоконтроля, анализа и отчётности состояния жёсткого диска встроенной аппаратурой самодиагностики. Используется как механизм периодической проверки состояния HDD, также помогает предсказать степень устаревания HDD.

Все диски — и HDD, и SSD, и NVMe — в принципе изнашиваются с каждым часом работы, и однозначно умирают, иногда долго, с предварительными звуками (диск щёлкает и/или трещит при каждом обращении к нему), а иногда ВНЕЗАПНО и сразу, что характерно для SSD, на которых нет движущихся частей. 

Обычно явное устаревание диска заметно и поэтому предсказуемо. А незаметно и непредсказуемо то, что на устаревающем диске со временем появляется всё больше секторов, которые не «отвечают». Утилиты вроде [[Software:SmartMonTools]] помогают заранее обнаружить появление битых секторов (//диагностика//), а [[Software:fsck]]  помогает пометить их как «игнорируемые», переуточнить количество оставшихся рабочих секторов и условно «объединить» пока ещё работающие (//лечение//). В итоге общий доступный объём старого диска заметно уменьшается, но какое-то время такой диск будет работать вполне надёжно. Со временем и оставшиеся «работающие» сектора начнут непредсказуемо отказывать и диск погибнет.

Всегда разумнее просто заменить явно устаревший HDD на новый. Инструменты вроде ''fsck'' на самом деле не лечат постаревший HDD, а временно отдаляют его последний отказ.

===== Подразумевания =====

	* HDD — hard disk drive
	* SSD — solid-state drive
	* NVMe — Non-Volatile Memory Express drive

Не на каждом HDD есть S.M.A.R.T. И не на каждом SSD (которые без SATA интерфейса). 

Считается, что на USB-drive («флэшки») S.M.A.R.T. нет в принципе, поскольку „USB Mass Storage device class“ основан на протоколе SCSI, который не содержит аналогичной S.M.A.R.T. функциональности. Однако существует небольшое количество флеш-накопителей, сделанных на основе SATA контроллеров и переходников SATA-USB, работающих по спецификации SAT (SCSI-ATA Translation).

SMART проверяет не партиции на диске, а состояние «железа» самого диска. Нет смысла проверять ''/dev/sda'' и ''/dev/sda1'' или ''/dev/sda2'' по-отдельности, проверяется всегда ''/dev/sda''.

HDD постоянно «изнашивается» от количества оборотов блинов и срока работы считывающей головки.

SSD постоянно «изнашиваются» от записи данных, и может работать условно вечно в режиме «на чтение». 

См. далее [[Software:SmartMonTools]] 
