Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2022-02-22T14:57:53+02:00

====== Konsole ======

[ @konsole @console @fonts ]

===== Настроить Konsole =====

''Настройка''
''> Настроить Konsole''
''> Общие''

Процесс и окно: оставить только галочку «Запоминать размер окна»

''Настройка''
''> Настроить Konsole''
''> Панель вкладок / Разделение окна''

''Внешний вид''
''> Показывать'' = Всегда
''> Положение'' = Выше области терминала
''> Кнопка «Закрыть»'' = На каждой вкладке
''> Прочее'' = Показывать кнопку «Новая вкладка»

''Поведение''
''> Размещать новые вкладки'' = После текущей

''Разделение окна''
''> Показывать заголовок'' = Всегда
''> Ширина разделителей'' = Маленькая

Это дополнительный «заголовок», который отображает заголовок (вкладку) внутри терминала, отдельно от вкладок окна Konsole.

Неочевидно, но если в Параметры системы > Внешний вид > Оформление приложений выбрать стиль //Breeze// или //Fusion// — в терминале под заголовком владки ничего не будет отображаться. А если выбрать другой стиль, например, //Oxygen//, то под вкладкой в терминале появится (раздражающая глаз) нижняя полоса.

===== Настроить свой профиль =====

''Настройка'' 
''> Управление профилями'' 
''> Создать''

Создать новый профиль со своим названием, например, 'astenix'.

''> Поставить напротив этого профиля галочку в колонке "Показывать в меню"'' 
''> Поставить галочку «Профиль по умолчанию»''

Команда:

''/bin/bash''

Начальный каталог: указать свой домашний каталог.

'''
Переменные окружения
> Изменить
'''

Вставить:

''TERM=xterm-256color''
''COLORTERM=truecolor''

Остальные настройки по своему усмотрению.

[Применить]

Можно сделать ярлык для запуска с явным указанием профиля:

''konsole --profile astenix''

==== Вкладки ====

''> Вкладки''
''> Заголовки вкладок''

В поле “Формат заголовка вкладок” вставить

''%u@%h /%d''

В поле  “Удалённый сеанс” вставить

''%u@%h''

Тут:

* имя юзера = ''%u''
* хост = ''%h''
* символ статуса пользователя командной оболочки = ''%B''
* текущий каталог (кратко) = ''%d'' (или ''%D'' если нужен полный путь)

В поле “Задержка перед срабатыванием” установить 1 сек.

==== Внешний вид ====

''Внешний вид''
''> Цветовая схема и шрифт''
''> Цвета Linux''

Замечательные шрифты:

* Cascadia Code
* Andale Mono
* IBM Plex Mono

См. [[Debian:Install:Шрифты]]

+ Сглаживать шрифты
+ Использовать символы из шрифта для рисования линий

''Внешний вид''
''> Курсор''

Форма = Вертикальная черта

Цвет > Цвет курсора > Курсор = #f55200
Цвет > Цвет курсора > Текст = #18191d

Мигание = Включено

''Внешний вид''
''> Компоновка сложного текста''

Полностью убрать галочку «Словесный режим». Это нужно для арабского/индийского письма, для всех остальных языков это генерирует неприятный артефакт в виде фантомного пробела перед курсором.

==== Отключить затемнение неактивных терминалов ====

''Настройка'' 
''> Настроить профиль (astenix)'' 
''> Внешний вид'' 
''> Прочее''
''> Неактивные терминалы''

убрать галочку «Затемнять»

===== Цветной терминал =====

См. http://rus-linux.net/nlib.php?name=/MyLDP/consol/color-ru.html и [[Debian:HowTo:Настроить:Цветной терминал]]

Занести все эти команды в файл ''/~/.bashrc''.

==== Подсветить имя юзера ====

Имя и домен бирюзового цвета, текущий каталог — бледно-пурпурного:

{{{code: lang="sh" linenumbers="True"
# Очистка вероятных старых настроек цвета
unset PS1
unset LS_COLORS
PROMPT_COMMAND=

# Имя пользователя окрасить в бирюзовый цвет,
# Каталог — в бледно-пурпурный, остальное обычным.
# После “:” обязательно оставить пробел, иначе вся строка будет окрашена в бирюзовый
PS1='\[\033[36m\][\u@\h]\[\033[00m\] \[\033[33m\]\w\$\[\033[00m\] '
}}}

Hence:

''\u'' = Username of the current user
''@'' = '@' character
''\h'' = The hostname
'':'' = двоеточие
''\w'' = текущий каталог, и $HOME сокращен до тильды (''~'')
''$'' = обозначение обычного пользователя ( ''#'' если root)

Цвет:

''[\033[36m]'' = объявление начала цвета строки
''[\033[00m]'' = возвращение цвета строки к default

Зеленый цвет: ''[\033[32m]''
Желтый: ''[\033[33m]'' оно же ''[\033[0;33m]'' (“оттенок;цвет”)
Желтый (bold):  ''[\033[1;33m]''

30 	Черный
31	Темно-красный 
32	Зеленый
33	Желтый
34	Синий
35	Фиолетовый
36	Бирюзовый
37	Серый
38	Ярко-красный

Добавление к номеру цвета через точку с запятой единицы дает более светлый оттенок:

31;1 	Розовый
33;1    Желтый 
и так далее.

==== Подсветить имя “root” ====

Залогиниться под root

''su''

''mcedit /root/.bashrc''

Добавить в файл ''.bashrc'' строку с указанием красного цвета

'''
PS1='\[\033[1;31m\][\u@\h]\[\033[00m\] \w\$ '
'''

Заодно добавим минимальный набор команд:

{{{code: lang="sh" linenumbers="True"
   # Some more alias to avoid making mistakes:
alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'

    # set default editor in this user console
export EDITOR=mcedit

alias ьс='mc'

for i in ebash уифыр; do alias $i='mcedit ~/.bashrc; source ~/.bashrc'; done

    # exit
for i in ee уу учше; do alias $i='exit'; done

}}}

См. также [[Debian:HowTo:Настроить:Цвет шрифта в консоли]]

===== Помощь в консоли =====

Стандартный мануал (если есть), выход из него через клавишу 'q':

''man ping''

Вызов короткой справки прямо в консоль:

''ping -h''

===== Поиск по истории команд =====

См. [[Debian:HowTo:Найти:История команд]]
