Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2022-12-05T19:28:11+02:00

====== Zoom ======

[ @console @zoom @ibus ]

Zoom по-умолчанию подтягивает ibus — вроде как ещё один лучший способ ввода всякой шняги с клавиатуры. В KDE эта штука мешает:

	* устанавливается и запускается новая программа (вроде не проблема),
	* которая мелко светится в трее (не проблема),
	* конечно, я этот ibus отключаю, и можно даже задавить его автозапуск,
	* но при этом в каких-то приложениях клавиатура работает, а в каких-то словно полностью отключается — а это уже реальная проблема,
	* удаление ibus тянет за собой полное удаление zoom.
	* [[HowTo:Сделать:Подавить iBus]]

Решение: можно пересобрать пакет //zoom_amd64.deb// так, чтобы принудительно перевести ibus из списка обязательных к установке в список рекомендуемых.

Это решение работает до тех пор, пока zoom не потребует обновления (далеко не каждый день). Перед установкой новой версии процедуру потребуется повторить.

Автор решения: Elana Hashman https://hashman.ca/zoom/

===== Скачать zoom_amd64.deb с сайта zoom =====

https://zoom.us/download?os=linux

Можно положить его в отдельный каталог, а можно не заморачиваться — вся работа пройдёт в удалённом каталоге в ''/tmp/'' В итоге рядом с файлом ''zoom_amd64.deb'' появится файл ''patched_zoom_amd64.deb''

Озорства для можно узнать версию пакета:

''dpkg-deb -I zoom_amd64.deb | grep Version''

		# Version: 5.4.53391.1108

===== Сделать пересборку пакета =====

Переходим в консоль в каталог с файлом ''zoom_amd64.deb''

==== Сделать временный каталог ====

и положить путь к нему в переменную:

''scratch=$(mktemp -d)''

Команда ''mktemp'' - создает временные файлы и каталоги с рэндомным названием вроде «''tmp.NaWPylCHV6''» в /tmp/.

С флагом ''-d'': создать директорию. Без флагов: создать файл.

==== Вытащить содержимое пакета ====

''dpkg -x zoom_amd64.deb $scratch''

==== Вытащить package control information ====

''dpkg -e zoom_amd64.deb $scratch/DEBIAN''

==== Убрать зависимость от ibus ====

''sudo sed -i -E 's/(ibus, |, ibus)//' $scratch/DEBIAN/control''

==== Пересобрать .deb ====

''dpkg -b $scratch patched_zoom_amd64.deb''

В исходном каталоге появится новый файл ''patched_zoom_amd64.deb''

===== Установить ещё несколько штук =====

без которых Zoom не заработает.

''sudo aptitude install libegl1-mesa libgl1-mesa-glx libxcb-xtest0''

===== Установить zoom из пакета .deb =====

''sudo dpkg -i patched_zoom_amd64.deb''

Запустить, убедиться в том, что все норм.

Оба установочных файла zoom можно удалить.

''rm patched_zoom_amd64.deb zoom_amd64.deb''
