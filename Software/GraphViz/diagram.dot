digraph СистемноеМышление {
	rankdir=TB; // направление раскладки графа: T — top (сверху), B — bottom (снизу)
	bgcolor="#1b1e20"; // Фон всей диаграммы — тёмно-серый

	// Заголовок: отдельный узел с особым рангом "source"
	title [label="Дума сэнсэя Иванова", shape=plaintext, fontsize=22, fontcolor="#cf9f50"];
	// Невидимые узлы слева и справа для центрирования заголовка
	left [label="", style=invis];
	right [label="", style=invis];
	// Чтобы все три были на одном уровне (ранге) — заголовок центрируется между ними
	{ rank=source; left; title; right; }

	// Настройки всех узлов
	node [
		fontcolor="#b2b2b2" // цвет текста и рамок (светло-серый) https://graphviz.org/doc/info/colors.html
		color="#b2b2b2" // цвет рамок (границ) узлов
		fillcolor="#1b1e20" // фон узлов — тёмно-серый
		style=filled // стиль заливки узла — залить цветом из fillcolor
		fontname="Ysabeau"
		fontsize="16"
	];

	// Настройки всех рёбер
	edge [
		arrowhead=open // глобальный тип стрелок https://graphviz.org/docs/attr-types/arrowType/
		color="#b2b2b2" // цвет линий и шрифта (светло-серый)
		fontname="Ysabeau"
		fontsize="16"
	];

	// нельзя сразу объявлять и соединять узлы, как в Mermaid
	// надо сперва расписать все сущности
	
	// форму каждого узла можно задать отдельно: id2 [shape=box, label="Невод закинут в море"];
	// а можно их группировать 
	node [shape=octagon];
	S [label="Происходит жизнь"] // S = Start
	E [label="Разговор исчерпан"]; // E  End
		
	node [shape=none];
	сила_воли [label=<<s>Сила Воли</s>>]
	принуждение [label=<<s>Принуждение</s>>];
	проверка_боем [label="проверка боем", shape=box];

	node [shape=note];
	id1 [label="Самурай всё понимает", comment="I am node id1"];
	id2 [label="Невод закинут в море"];
	rybka [label="Мерзнет пингвин"];
	biblioteka [shape=plaintext, label="Понял в тишине библиотеки"];
	
	node [shape=underline];
	как_думать [label="Самурай без меча"];
	gameOver [label="Демоны спёрли дыхание"];
	bookIsClosed [label="Книга недолго открыта"];
	listOfEvents [label="• Некуда спешить\n• Не о чём думать\n• Начинается дождь", fontsize=12, fontcolor="Coral", color="DarkOrange"];
	
	// затем узлы можно соединять в самых причудливых сочетаниях

	сила_воли -> S;
	принуждение -> S;
	проверка_боем -> S;

	как_думать -> biblioteka [label=<<font color="yellow" point-size="13">Спросил у <i>ясеня</i></font>>];
	biblioteka -> listOfEvents;

	S -> id1;
	id1 -> id2 [arrowhead=tee]; // чтобы задать стиль отдельной стрелке, ноды одного пути надо разнести "две отдельно"
	id2 -> rybka -> listOfEvents -> E;
		
	listOfEvents -> gameOver -> bookIsClosed;
	
}