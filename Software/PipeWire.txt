Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2025-12-20T04:50:57+02:00

====== PipeWire ======

[ @sound ]

A low-level multimedia framework. Полностью заменяет PulseAudio, большинство приложений этой замены и не замечают.

Система использует ALSA (Advanced Linux Sound Architecture) — это фундамент, базовая звуковая подсистема Linux.

Поверх ALSA ставят ~~менеджер~~ сервер звука: PulseAudio или PipeWire или сам свой напиши. Он умеет микшировать звук из нескольких приложений, переключать устройства «на лету», управлять Bluetooth, профилями, задержками:

''Приложение → ALSA → PipeWire → управляет железом''

===== Установить =====

* [[Debian:Install:PipeWire]]

===== Настроить =====

По-умолчанию тут нечего настраивать, сервер работает, звук идёт. 

===== Bluetooth =====

У меня появился выбор между кодеками SBC и SBC-XQ — это базовый Bluetooth-кодек с разными параметрами битрейта и режимом передачи:

* SBC (Low-Complexity Subband Codec) — стандартный аудиокодек Bluetooth A2DP. Он обязателен для всех Bluetooth-устройств и предназначен для простой, совместимой передачи стереозвука по беспроводной связи. SBC обеспечивает базовое качество звука с умеренным сжатием, достаточно для большинства случаев, но уступает по качеству более продвинутым кодекам (AAC, aptX, LDAC и др.). Битрейт ~328 кбит/с (обычно ниже). 
* SBC-XQ (Subband Codec eXtreme Quality) — это вариант настройки SBC с повышенным битрейтом и двухканальным режимом, который позволяет максимально использовать пропускную способность Bluetooth для улучшения качества звука; это оптимизированные параметры кодека SBC, которые увеличивают битрейт выше обычного уровня. Обычно отсутствует в смартфонах. Битрейт SBC-XQ ~452–551 кбит/с (обычно ниже). Ухо эту разницу не услышит, особенно через «фильтр наушников», но SBC-XQ даст более широкий динамический диапазон.
* aptX HD — аудиокодек Bluetooth от Qualcomm, улучшенное качество звука, разрешение звука до 24 бит / 48 кГц (High Definition), битрейт до 576 кбит/с (в зависимости от устройства и соединения). Работает только на совместимых устройствах.

В режиме гарнитуры HFP (Hands-Free Profile, Bluetooth-профиль для голосовой связи) доступны кодеки

* CVSD — базовый кодек, фиксированная частота ~8 кГц (по факту узкая полоса), низкое качество, «телефонный» звук.
* mSBC — широкополосная речь (Wideband Speech), частота 16 кГц, заметно лучше разборчивость и естественность голоса, но чуть выше задержка и требования к каналу.

Кодек для HFP выбирается автоматически при установке соединения, и если на одной из сторон он поддерживает только CVSD, он будет задействован и для второй стороны.
