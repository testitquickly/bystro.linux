Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2024-09-13T23:51:50+03:00

====== locate ======

[ @debian @files @search @locate ]

–ú–æ—â–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏—é (–Ω–æ –Ω–µ –ø–æ –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É) –≤ –µ–¥–∏–Ω–æ–π –º–∞–ª–µ–Ω—å–∫–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

–ö–∞–∑–∞–ª–æ—Å—å –±—ã, –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ, –≤–µ–¥—å –¥–ª—è –ø–æ–∏—Å–∫–∞ –µ—Å—Ç—å ''find'', –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –∏—Å–∫–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –ø–æ –∏—Ö –Ω–∞–∑–≤–∞–Ω–∏—é, –Ω–æ –∏ –ø–æ –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É. –ù–æ ''find'' –±—É–∫–≤–∞–ª—å–Ω–æ –∏—â–µ—Ç –ø–æ –¥–∏—Å–∫—É, —ç—Ç–æ –¥–æ–ª–≥–æ, —ç—Ç–æ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏ –¥–∏—Å–∫–∏. –ê ''locate'' —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –æ–Ω —Å–ø–µ—Ä–≤–∞ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –∫ —Å–µ–±–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Å–≤–æ–µ–π –±–∞–∑—ã, –∞ –Ω–µ –ø–æ –¥–∏—Å–∫—É IRL. –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –Ω–µ—Å–æ–ø–æ—Å—Ç–∞–≤–∏–º–∞.

–ù–∞–¥–æ —Ç–æ–ª—å–∫–æ —É—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞–¥–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ —É—á—Ç–µ–Ω–Ω—ã–µ –≤ –Ω–µ–π —Ñ–∞–π–ª—ã –º–æ–≥—É—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å (—É–¥–∞–ª–µ–Ω—ã, –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã). ''locate'' –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ –∫—Ä–æ–Ω—É –∏–ª–∏ –≤—Ä—É—á–Ω—É—é. 

–¢–∞–∫–∂–µ –í–ù–ï–ó–ê–ü–ù–û –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥—Ä—É–≥–æ–π –Ω–æ—É—Ç–±—É–∫ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë.

–ï—â—ë –≤–∞–∂–Ω–æ —É—á–µ—Å—Ç—å, —á—Ç–æ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π locate:

''locate --version''

–ï—Å–ª–∏ –≤ –æ—Ç–≤–µ—Ç –ø—Ä–∏—à–ª–æ 

'''
locate (GNU findutils) 4.9.0
Copyright (C) 2022 Free Software Foundation, Inc. 
'''

–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ, —Ç–æ —ç—Ç–æ—Ç ''locate'' –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ '''find -name''', –∏ –Ω–∏–∫–∞–∫–æ–π –±–∞–∑—ã –¥–ª—è —ç—Ç–æ–π —É—Ç–∏–ª–∏—Ç—ã –Ω–µ—Ç, –∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ ''locate'' –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–∏—Å–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –†–∞–∑—É–º–Ω–æ —ç—Ç–æ—Ç –ø—Å–µ–≤–¥–æ-''locate'' —É–¥–∞–ª–∏—Ç—å –∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å ''plocate''¬†‚Äî —ç—Ç–æ –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è. –ï—Å—Ç—å –µ—â—ë —É—Å—Ç–∞—Ä–µ–≤–∞—é—â–∏–π ''mlocate'', –ø—Ä–æ –Ω–µ–≥–æ –º–æ–∂–Ω–æ –Ω–µ –¥—É–º–∞—Ç—å.

''sudo apt purge locate && sudo rm /etc/updatedb.conf && sudo apt install plocate''

–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –≤—ã–∑–æ–≤ —É—Ç–∏–ª–∏—Ç—ã ''plocate'' –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–æ—Ç –∂–µ –∞–ª–∏–∞—Å ''locate''. –ú–Ω–µ –ø–æ–∫–∞–∑–∞–ª–æ—Å—å –ø—Ä–æ—â–µ —Å–¥–µ–ª–∞—Ç—å –∞–ª–∏–∞—Å—ã —Å–æ —Å–ª–æ–≤–æ–º ''search''.

–î–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –±–∞–∑ —Å –≤—Ö–æ–∂–¥–µ–Ω–∏—è–º–∏ –¥–æ 100 000 —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –¥–∞–∂–µ –Ω–∞ —Å–ª–∞–±—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö (—Å—Ç–∞—Ä—ã–µ NAS). –ï—Å–ª–∏ –≤ –ø–æ–∏—Å–∫–µ –±—É–¥–µ—Ç –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–ª–ª–∏–æ–Ω–æ–≤ –≤—Ö–æ–∂–¥–µ–Ω–∏–π, —Ç–æ–≥–¥–∞ ''plocate'' —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π ¬´–Ω–∞ –ª–µ—Ç—É¬ª –æ—Ç–ø–∞–¥–∞–µ—Ç.

===== –°–æ–∑–¥–∞—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö =====

–ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö ''plocate'' –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è (–ø–æ—á—Ç–∏) –í–°–ï —Ñ–∞–π–ª—ã —Å–æ –≤—Å–µ—Ö –¥–∏—Å–∫–æ–≤ –æ—Ç –∫–æ—Ä–Ω—è —Å–∏—Å—Ç–µ–º—ã. –õ—É—á—à–µ —É–∫–∞–∑–∞—Ç—å —è–≤–Ω–æ, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞–∫–∏—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –Ω–∞–¥–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å.

–ù–æ –µ—Å—Ç—å –∑–∞—Å–∞–¥–∞ ‚Äî¬†''plocate'' –Ω–µ —É–º–µ–µ—Ç –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ç–∞–ª–æ–≥–æ–≤. –¢–æ–ª—å–∫–æ –ø–æ-–æ–¥–Ω–æ–º—É:

''sudo updatedb -o "/home/users/myUser/locateDB/v1.db" -U "/srv/dev-disk1/folder_1"''

–ö–∞–≤—ã—á–∫–∏ –Ω—É–∂–Ω—ã –Ω–∞ —Å–ª—É—á–∞–π –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –ø—É—Ç–∏.

–ù–æ —è —Ö–æ—á—É –∏—Å–∫–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ —Ç—Ä–µ—Ö —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –¥–∏—Å–∫–∞—Ö. 

–î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–¥–æ 
* —Å–¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞, 
* —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∏–Ω–¥–µ–∫—Å–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –æ–¥–∏–Ω –∫–∞—Ç–∞–ª–æ–≥,
* —Å–¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –∏–Ω–¥–µ–∫—Å–Ω—ã–º —Ñ–∞–π–ª–∞–º

===== –°–¥–µ–ª–∞—Ç—å –∞–ª–∏–∞—Å—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π locate =====

–í ''~/.bashrc'' –¥–æ–±–∞–≤–∏—Ç—å:

'''
# === –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ ===
'''

'''
locateIndexes=/home/users/astenix/locateDB

searchupdate() {
	sudo updatedb -o "$locateIndexes/v1.db" -U "/srv/dev-disk1/folder_1"
	sudo updatedb -o "$locateIndexes/v2.db" -U "/srv/dev-disk2/folder_2"
	sudo updatedb -o "$locateIndexes/v3.db" -U "/srv/dev-disk2/folder_3"
	echo -e "\n\t–ò–Ω–¥–µ–∫—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã"
}
'''

–°–ª–µ–¥—É–µ—Ç –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –¥–ª—è ''locate'' ¬´–∑–≤—ë–∑–¥–Ω—ã–µ –≤–æ–π–Ω—ã¬ª –∏ ¬´–∑–≤–µ–∑–¥–Ω—ã–µ –≤–æ–π–Ω—ã¬ª —ç—Ç–æ —Ç–∞–∫–∏–µ –∂–µ —Ä–∞–∑–Ω—ã–µ —Å–ª–æ–≤–∞, –∫–∞–∫ ¬´—Å–Ω–∞–π–ø–µ—Ä¬ª –∏ ¬´sniper¬ª.  –ï—Å—Ç—å —Å–º—ã—Å–ª —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–º–µ–Ω—É –≤—Å–µ—Ö ¬´—ë¬ª –Ω–∞ ¬´–µ¬ª:

{{{code: id="replace_e" lang="sh" linenumbers="False"
find "/path/to/folder" -depth -name '*[–Å—ë]*' -execdir bash -c 'n="${0//–Å/–ï}"; n="${n//—ë/–µ}"; [ "$n" != "$0" ] && mv -T -- "$0" "$n"' {} \;
}}}

–î–∞–ª—å—à–µ –¥–æ–±–∞–≤–∏–º –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –∏–º–µ–Ω–∞–º–∏:

==== **1)** **search** ====

–£—Å–ª–æ–≤–Ω–æ –±—ã—Å—Ç—Ä—ã–π, —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫, –Ω–æ –∏–ª–∏ –ø–æ –æ–¥–Ω–æ–º—É —Å–ª–æ–≤—É, –∏–ª–∏ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º, –µ—Å–ª–∏ –æ–Ω–∏ –∏–¥—É—Ç –ø–æ–¥—Ä—è–¥.
* "''search —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ''" ‚Äî –±—É–¥—É—Ç –Ω–∞–π–¥–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º ¬´–°–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ –æ—Ä—É–∂–∏–µ‚Ä¶¬ª
* "''search —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ –æ—Ä—É–∂–∏–µ''" ‚Äî –±—É–¥—É—Ç –Ω–∞–π–¥–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º ¬´–°–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ –æ—Ä—É–∂–∏–µ‚Ä¶¬ª
* "''search –æ—Ä—É–∂–∏–µ —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ''" ‚Äî¬†–Ω–∏—á–µ–≥–æ –Ω–µ –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω–æ

''# === –û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –æ–¥–Ω–æ–º—É —Å–ª–æ–≤—É ===''

	''# –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Ç—Ä—ë–º –±–∞–∑–∞–º v1.db, v2.db, v3.db;''
	''# –ü–æ–∏—Å–∫ —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π;''
	''# –ú–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–≤, –Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ–¥—Ä—è–¥''
		''# "search —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ –æ—Ä—É–∂–∏–µ" –Ω–∞–π–¥—ë—Ç''
		''# "search –æ—Ä—É–∂–∏–µ —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ" –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥—ë—Ç''

''search() {''
	''if [ "$#" -eq 0 ]; then''
		''echo "Usage: search <pattern1> [pattern2 ...]"''
		''return 1''
	''fi''

	''local pattern="$*"''

	''echo -e " "''

	''local filtered''
	''filtered=$(for db in $locateIndexes/v{1,2,3}.db; do''
		''plocate -d "$db" "" 2>/dev/null''
	''done | grep -i "$(printf '%s' "$pattern" | sed 's/ /.* /g')" | sort -u)''

	''# –ù—É–º–µ—Ä–∞—Ü–∏—è –∏ –≤—ã–≤–æ–¥''
	''printf '%s\n' "$filtered" | nl -n ln -w 1 -s") "''
''}''

–ù–∞–¥–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ —Ç–∏–ø–∞

''plocate -d /abc/v1.db –∏—Å–∫–æ–º–æ–µ_—Å–ª–æ–≤–æ''

–≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –º–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –µ–º—É –Ω–µ –Ω–∞–¥–æ –≤—ã–Ω–∏–º–∞—Ç—å –∏–∑ –±–∞–∑—ã –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ –ø–∞–º—è—Ç—å –∏ –ø–æ—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –ø–æ–∏—Å–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É –±–∞–∑—ã, –∏ —ç—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –ù–æ ''plocate'' –Ω–µ —É–º–µ–µ—Ç –∏—Å–∫–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, –¥–∞ –µ—â–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –ø–æ—ç—Ç–æ–º—É:
* –∏–ª–∏ —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ ‚Äî —á–µ—Ä–µ–∑ –º–∞—Ç–µ—Ä—â–∏–Ω—É –ø–æ –ø–æ–≤–æ–¥—É –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞ –±—É–∫–≤–∞, 
* –∏–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤.

–í—Ç–æ—Ä–æ–µ —Ü–µ–Ω–Ω–µ–µ, –ø–æ—ç—Ç–æ–º—É –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–Ω–æ–≥–æ –≤—Å—è–∫–æ–≥–æ
* –ø–æ–ª–Ω–∞—è –≤—ã–≥—Ä—É–∑–∫–∞ –∫–∞–∂–¥–æ–π –±–∞–∑—ã ''*.db'' –≤ –ø–∞–º—è—Ç—å, –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ.
* —Ü–∏–∫–ª ''for db in ...'' –∑–∞–ø—É—Å–∫–∞–µ—Ç ''plocate -d "$db" ""'' ‚Äî –∫–æ–º–∞–Ω–¥–∞ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞ ("") –≤—ã–≤–æ–¥–∏—Ç –í–°–ï –ø—É—Ç–∏ –∏–∑ –±–∞–∑—ã.
* –¥–ª—è –∫–∞–∂–¥–æ–π –±–∞–∑—ã –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–ª–Ω–∞—è –ø–µ—á–∞—Ç—å –≤—Å–µ—Ö –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º.
* –∑–∞—Ç–µ–º –æ–±—â–∏–π –ø–æ—Ç–æ–∫ –≤—Å–µ—Ö –ø—É—Ç–µ–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ ''grep -i'' –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.
* –≤ –∫–æ–Ω—Ü–µ ''sort -u'' —É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã.
* –∏ –µ—â–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫.

–ï—Å–ª–∏ —Å—Ç—Ä–æ–∫ –±–æ–ª—å—à–µ 190, –Ω–∞ –æ–¥–∏–Ω —ç–∫—Ä–∞–Ω –æ–Ω–∏ –º–æ–≥—É—Ç –Ω–µ –ø–æ–º–µ—Å—Ç–∏—Ç—å—Å—è. –†–µ—à–µ–Ω–∏–µ:

''search —Å–ª–æ–≤–æ | less''

–í—ã—Ö–æ–¥ –ø–æ –∫–ª–∞–≤–∏—à–µ ‚Äúq‚Äù.

==== 2**)** **search2** ====

–ó–∞–º–µ—Ç–Ω–æ –º–µ–¥–ª–µ–Ω–Ω—ã–π, –Ω–æ –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫. –†–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π, –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–≤ –ø–æ–¥—Ä—è–¥ –∏ –¥–∞–∂–µ –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ 
* "search –æ—Ä—É–∂–∏–µ —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ" –Ω–∞–π–¥—ë—Ç ¬´–°–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ –æ—Ä—É–∂–∏–µ¬ª –∏ –≤—Å–µ –µ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ;


''# === –ú–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å–ª–æ–≤–∞–º ===''

	''# –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Ç—Ä—ë–º –±–∞–∑–∞–º v1.db, v2.db, v3.db;''
	''# –ü–æ–∏—Å–∫ —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π;''
	''# –ú–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ–≤ –ø–æ–¥—Ä—è–¥ –∏ –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ'' 
		''# "search –æ—Ä—É–∂–∏–µ —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ" –Ω–∞–π–¥—ë—Ç ¬´—Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ–µ –æ—Ä—É–∂–∏–µ¬ª;''

''search2() {''
	''if [ "$#" -eq 0 ]; then''
		''echo "Usage: fastsearch <word1> [word2 ...]"''
		''return 1''
	''fi''

	''local dbs=(''
		''$locateIndexes/v1.db''
		''$locateIndexes/v2.db''
		''$locateIndexes/v3.db''
	'')''

	''# –°–ª–∏—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É –∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ''
	''local allpaths''
	''allpaths=$(for db in "${dbs[@]}"; do''
		''plocate -d "$db" "" 2>/dev/null''
	''done | sort -u)''

	''# –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –∫–∞–∂–¥–æ–º—É —Å–ª–æ–≤—É (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –ø–æ–∏—Å–∫)''
	''local filtered="$allpaths"''
	''for word in "$@"; do''
		''filtered=$(printf '%s\n' "$filtered" | grep -iF -- "$word")''
	''done''

	''# –ù—É–º–µ—Ä–∞—Ü–∏—è –∏ –≤—ã–≤–æ–¥''
	''printf '%s\n' "$filtered" | nl -n ln -w 1 -s") "''
''}''

===== –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ =====

–°–¥–µ–ª–∞—Ç—å –ø–æ–∏—Å–∫ //–ø—É—Å—Ç–æ—Ç—ã// (–º–æ–∂–Ω–æ –∫–∞–∫–æ–µ-—Ç–æ —Å–ª–æ–≤–æ, –Ω–æ —Ç–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –ø–æ —Å–ª–æ–≤–∞–º) –∏ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –∏—Ç–æ–≥–æ–≤—É—é —Ü–∏—Ñ—Ä—É:

{{{code: id="empty_search" lang="sh" linenumbers="False"
search '' | wc -l
}}}

–ú–æ–∂–Ω–æ –≤ –∫–∞—Ç–∞–ª–æ–≥ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –ø–æ–ª–æ–∂–∏—Ç—å sh-—Å–∫—Ä–∏–ø—Ç (—Å–¥–µ–ª–∞—Ç—å –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∂–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –∫–∞–∂–¥–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

{{{code: id="plocate_stats" lang="sh" linenumbers="True"
#!/bin/bash

DBPREFIX="/home/users/astenix/locateDB"
DBFILES=("$DBPREFIX/v1.db" "$DBPREFIX/v2.db" "$DBPREFIX/v3.db")

for DB in "${DBFILES[@]}"; do
  if [ ! -f "$DB" ]; then
    echo "‚ùå –ë–∞–∑–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: $DB"
    continue
  fi

  echo "üì¶ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã: $DB"
  TOTAL=$(locate -d "$DB" '' | wc -l)
  echo "  –í—Å–µ–≥–æ –ø—É—Ç–µ–π: $TOTAL"
  echo "  –ü–µ—Ä–≤—ã–µ 10 –ø—É—Ç–µ–π:"
  locate -d "$DB" '' | head -n 10
  echo
done

}}}

===== –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤ =====

''locate abc.txt''

''locate *.txt''

==== –ü–æ–∏—Å–∫ –±–µ–∑ —É—á–µ—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞ –±—É–∫–≤–∞ ====

''locate -i abc.txt''

==== –ò—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ä–µ–¥–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤ ====

–≠—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç ''locate'' —Å–ø–µ—Ä–≤–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –Ω–∞ –¥–∏—Å–∫–µ –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–∫–∞–∑–∞–Ω –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –ø–æ–∏—Å–∫–∞. –¢–æ –µ—Å—Ç—å, —É—Å–ª–æ–≤–Ω–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º ''locate'' –≤ ''find''. –ù–æ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç –º–µ–Ω—å—à–µ, —á–µ–º –ø—Ä–∏ —è–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ ''find''.

''locate -e *.txt''

==== –ü–æ—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ ====

–í—ã–≤–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ.

''locate -c abc.txt''

==== –ü–æ–∏—Å–∫ –ø–æ —á–∞—Å—Ç–∏—á–Ω–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é ====

–¢–∞–∫ ''locate'' —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é. 

''locate reach''

–≤—ã–≤–µ–¥–µ—Ç –≤—Å—ë, —á—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç ‚Äô''reach''‚Äô –≤–Ω—É—Ç—Ä–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äô''reacher''‚Äô –∏–ª–∏ ‚Äô''preacher''‚Äô.

==== –ò—Å–∫–∞—Ç—å —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã ====

–ù–∞–¥–æ –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª—ã –∏–∑ —Å–µ—Ä–∏–∞–ª–∞ 'Reacher'. –ù–æ –Ω–∞ –¥–∏—Å–∫–µ –ø–æ–ª–Ω–æ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤ –∏–∑ Pulp Fiction ¬´Son of a preacher man¬ª, –∞ –ø–æ–∏—Å–∫ –ø–æ ¬´reacher¬ª –≤—ã–≤–æ–¥–∏—Ç –í–°–ï —Ñ–∞–π–ª—ã, –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —ç—Ç–∞–º –∫–æ–º–±–∏–Ω–∞—Ü–∏—è —Å–∏–º–≤–æ–ª–æ–≤. 

–†–µ—à–µ–Ω–∏–µ:

''locate reacher | grep -iw 'reacher'''

–ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç –≤—ã–∑–æ–≤ –≤ –æ–¥–Ω–æ —Å–ª–æ–≤–æ

	''# —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ locate —Å—Ç—Ä–æ–≥–æ –ø–æ –æ–¥–Ω–æ–º—É —Å–ª–æ–≤—É''
''l() {''
	''if [[ -z $1 ]]; then''
		''echo "Usage: search_word <word>"''
		''return 1''
	''fi''

	''locate "$1" | grep -iw "$1" | less''
''}''

–ü–æ–ª–æ–∂–∏—Ç—å –µ—ë –≤ ''~/.bashrc'' –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª

''source ~/.bashrc''

–¢–µ–ø–µ—Ä—å –ø–æ–∏—Å–∫ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ç–∞–∫:

''l reacher''

–ü—Ä–æ–ª–∏—Å—Ç—ã–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –ø–æ—ç–∫—Ä–∞–Ω–Ω–æ –∫–ª–∞–≤–∏—à–µ–π ‚ÄúSpace‚Äù. –ï—Å–ª–∏ –≤ –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫ ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏—è –ø–æ –∫–ª–∞–≤–∏—à–µ ‚Äúq‚Äú.

==== –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–µ —Å–ª–æ–≤–∞ ====

–í–æ—Ç —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –ø–æ–∫–∞–∑–∞–ª –º–Ω–µ –Ω–∞–±–æ—Ä –∫–Ω–∏–≥ –ø—Ä–æ –†–∏—á–µ—Ä–∞ (–∫–Ω–∏–≥–∏ –≤ –∞–Ω–≥–ª.):

''locate fiction | grep -iw 'reacher'''

==== –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ ====

–ü—Ä–æ–ª–∏—Å—Ç—ã–≤–∞—Ç—å —ç–∫—Ä–∞–Ω—ã —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞:

''locate abc.txt | less''

–ü—Ä–æ–ª–∏—Å—Ç—ã–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –ø–æ—ç–∫—Ä–∞–Ω–Ω–æ –∫–ª–∞–≤–∏—à–µ–π ‚ÄúSpace‚Äù. –ï—Å–ª–∏ –≤ –æ—Ç–≤–µ—Ç –±—É–¥–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫ ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–ª–∏—Å—Ç—ã–≤–∞–Ω–∏—è –ø–æ –∫–ª–∞–≤–∏—à–µ ‚Äúq‚Äú.

–ü—Ä–æ—Å—Ç–æ –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω 10 —Å—Ç—Ä–æ–∫:

''locate -n 10 *.txt''

==== –ö–æ–º–ø–ª–µ—Å–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è ====

–î–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ ''--regex''.

–ù–∞–π—Ç–∏ –≤—Å–µ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º ''.mp4'' –ê –¢–ê–ö–ñ–ï ''.avi'':

''locate --regex -i "(\.mp4|\.avi)"''
