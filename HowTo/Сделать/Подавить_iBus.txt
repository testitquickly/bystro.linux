Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2022-02-22T15:11:20+02:00

====== Подавить iBus ======

[ @keyboard @iBus ]

Это менеджер клавиатуры из Gnome. Если перешел на display менеджер lightdm, то весьма вероятно что эта штука придёт с ним. Или с чем-то другим.

В норме он незаметен, но иногда он перетягивает на себя переключение раскладок клавиатуры, и делает это очень своеобразно. Или просто переключает раскладки внутри одного языка, или принудительно переводит язык на дефолтный, и делает это после КАЖДОГО нажатия на Tab. 

Решения: 
* Just instruct ibus to use your XKB keyboard layout.
* удалить iBus

===== Убедить iBus использовать XKB keyboard layout =====

Right-click the ibus widget, go to Preferences:
	1. Основные: Убрать галочку с «Показать значок в области уведомлений»
	2. Emoji: удалить сочетания «горячих клавиш»
	3. Дополнительно: поставить галочку «Использовать системную раскладку клавиатуры» ("Use system keyboard layout").

Now ibus should follow whatever layout you've set in Plasma.

А если он мозолит глаза, то 
	1. Правый клик в трее по треугольнику раскрытия скрытых шняжек — «Настроить виджет Системный лоток»
	2. Элементы > Состояния приложений > найти IBus Panel и установить «Всегда скрывать»

===== Удаление ibus =====

Если принято решение от него избавиться, то следует аккуратно удалить эти пакеты: ibus ibus-gtk ibus-gtk3 ibus-lang ibus-m17n

Нельзя удалять другие пакеты, внутри которых есть буквы ibus, вроде libibus, после этого может быть предложено удалить весь kde.

Сперва сохранить все открытые файлы, бо их будет невозможно отредактировать.

''sudo apt remove --purge ibus fcitx fcitx5 -y''

''sudo apt autoremove --purge''

''sudo apt clean''

Глянуть в Системные настройки > Клавиатура > Раскладки и убедиться в том, что переключение раскладок настроено там, а не через внешний метод ввода.

'''
sudo reboot
'''
