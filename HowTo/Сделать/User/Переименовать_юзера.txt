Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2024-11-28T07:19:33+02:00

====== Переименовать юзера ======

[ @console @user @rename ]

Учесть, что вместе со сменой логина будет переименован и каталог его профиля. То есть, мы говорим про «переименование аккаунта».

===== Посмотреть всех пользователей =====

''cat /etc/passwd''

Или только строку с идентификацией юзера по его логину:

''grep -w '^astenix' /etc/passwd''

Или так:

''cut -d: -f1 /etc/passwd'' 

Посмотреть процессы юзера детально:

''ps aux | grep astenix''

Посмотреть процессы юзера (только их номера):

''pgrep -u astenix''

Посмотреть сессии юзера:

''ps -u astenix''

Завершить все его процессы и сессии.

'''
pkill -u astenix

pkill -9 -u astenix
'''

===== Переименовать аккаунт юзера =====

''usermod -l НОВЫЙ_ЛОГИН СТАРЫЙ_ЛОГИН''

===== Поменять UID (user ID) юзера =====

Узнать нынешний UID:

''id astenix''

Поменять UID:

''usermod -u НОВЫЙ_UID ЛОГИН_ЮЗЕРА''

===== Переименовать home directory =====

В принципе оно должно само переименоваться, но это можно сделать напрямую.

Предположим, что юзер ''astenix'' переименован в ''autobot''

''usermod -d /home/autobot -m astenix''

''-d'' объявляет новую домашнюю директорию для юзера autobot
''-m'' перемещает (переименовывает) содержимое старой директории в новую

Проверить результат:

''id autobot''

''ls -ld /home/autobot''

Ожидаемый ответ:

''uid=1001(autobot) gid=1001(autobot) groups=1001(autobot)''
''drwxr-xr-x 2 autobot autobot 4096 Apr 21 15:53 /home/autobot/''
