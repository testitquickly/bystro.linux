Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2023-02-05T22:35:25+02:00

====== Перезагрузить Plasma ======

[ @plasma @kde ]

Полезно в случае мелких глюков (добавил новую панель на рабочий стол, добавил на новую панель ярлык на какой-то софт, добавил второй, а он переместился поверх предыдущего ярлыка и уже непонятно, добавился ли новый ярлык). 

В принципе, весь запущенный софт (кроме виджетов Plasma) должен остаться в рабочем состоянии, но не факт, тот же Zim после этого выключается.

Узнать действующую версию Plasma:

''kinfocenter --version''

===== Вариант 1 =====

'''
pkill plasmashell
nohup plasmashell >/dev/null 2>&1 &
'''

То же самое, что и откровенное прерывание и новый запуск процесса plasmashell, но не блокирует терминал.

Если сделать стандартное:

1. ''killall plasmashell //'' подождать, пока KDE не закроется
2. ''kstart plasmashell //'' подождать, пока KDE полностью  восстановится

то можно IRL смотреть в консоли перечень всего того, что (и как) запускается. Вряд ли можно дождаться завершения этого процесса. Если нажать в консоли  ''Ctrl+C'' — Plasma рухнет.

===== Вариант 2 =====

''systemctl --user restart plasma-plasmashell''

Метод хорош, если надо выполнить перезагрузку Plasma один раз. Если два и более — не факт, что сервис может самостоятельно остановиться. И вообще он должен быть настроен. 

===== Вариант 3 =====

''plasmashell --replace''

Условный недостаток: в Konsole будет выведен весь лог запуска Plasma. Может быть полезно для отслеживания того, что и как запускается, но если вкладку (или всё окно) Konsole, в которой это всё выполняется, то вся Plasma рухнет. Поэтому надо будет оставить окно Konsole работать где-нибудь в фоне.

Любопытно, что если выполнить эту команду в одной вкладке Konsole, затем во второй, то вся активность переместится во вторую вкладку, а в первой всё выполнение прекратится, её даже можно будет закрыть.  
