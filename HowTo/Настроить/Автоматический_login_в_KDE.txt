Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2022-02-22T15:21:20+02:00

====== Автоматический login в KDE ======

[ @login @sddm @lightdm ]

Это небезопасно, но удобно.

===== sddm (KDE) =====

''Параметры системы''
''> Рабочая среда'' 
''> Запуск и завершение'' 
''> Вход в систему (SDDM)'' 
''> Дополнительно (или Поведение)''
''> галочка "Автоматическ входить в систему"''
''> под именем (ИмяАккаунта)''
''> тип сеанса (выбрать всё, что угодно, кроме 'Wayland')''

===== lightdm (Ubuntu, Gnome) =====

''sudo mkdir /etc/lightdm/lightdm.conf.d/''
''sudo mcedit /etc/lightdm/lightdm.conf.d/12-autologin.conf''

Добавить в этот файл

''[''**''SeatDefaults''**'']''
''autologin-user=ИМЯ_ЮЗЕРА''
''autologin-user-timeout=0''
''# user-session=kde''

Последняя строка не нужна, но мало ли. Lightdm из убунту, поэтому если на нее перешел, то из кде она напрямую не настраиваемая.

''sudo reboot''

===== Разблокировать связку ключей для входа в систему =====

При автологине некоторый софт может при каждой загрузке выдавать запрос пароля для разблокирования связки ключей для входа в систему — обычно это пароль пользователя. 

Почему он появляется: его требует некоторое ПО, Evolution (почта под Gnome) или браузер на основе Chrome. И если этот запрос проигнорировать, то запустить тот же Evolution будет можно, но включить его как надо не получится.

Тут или отключить автологин, или искать возможность подавить этот запрос — неразумно, но возможно.

В KDE всем этим делом заведует kdewallet. Открыть кошелек, задать ему пустой пароль — [[Сделать:Поменять пароль в кошельке kdewallet]]

Возможно, будет удобно поставить ''Seahorse'', аналог ''kdewallet'':

* удалить браузер на базе Chromium или Evolution, если в нем была нужда
* установить Seahorse
* Меню > Приложения > Стандартные > должна появиться его кнопка «Пароли и ключи»
* в разделе Пароли > Связка ключей пароль «по умолчанию» и замочек
* правой кнопкой мыши вызвать меню для этого значения, а там «Удалить»
* удалить раздел «Связка ключей по умолчанию»
* снова установит Chromium > запустить и увидеть первичный запрос на введение пароля для «Разблокировать связку ключей»
* оставить поля пустыми > ввод
* в разделе «Пароли и ключи» вновь появилась строка «Связка ключей по умолчанию» и замочек (только он теперь открытый)

===== Дополнительно =====

Можно задать [[Таймаут для sudo]] — после первого ввода пароля в сессии какое-то время при выполнении задач уровня ''sudo'' пароль не будет запрашиваться.

Вообще удобно и бесконечно небезопасно [[Отключить запрос пароля для sudo]] для своего пользователя.
