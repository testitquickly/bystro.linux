Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2024-11-26T05:48:56+02:00

====== Таймаут для sudo ======

[ @console @sudo @timeout ]

После выполнения какой-либо команды через sudo, в течение 15-ти минут можно выполнять другие команды через sudo не натарабанивая заново свой пароль. Этот промежуток времени можно настроить.

Важно понимать, что это глобальная настройка, годная только для своего ноутбука. В системах со множеством пользователей это вообще нельзя трогать. Настройки подобного уровня хранятся в файле ''/etc/sudoers'', и для безопасности обращаться к нему следует через команду ''sudo visudo'' — откроется в редакторе nano. Но редактировать этот файл не надо, лучше сделать «локальные настройки».

===== Создать файл для локальных настроек =====

''sudo mcedit /etc/sudoers.d/timeout''

Добавить в него строку

''Defaults        timestamp_timeout=15''

Вместо ''15'' можно указать любое другое количество минут, например, ''90'' (полтора часа) или ''180'' (три часа).

Или полностью отключить повторный запрос пароля: ''-1''

Если ''0'', то пароль будет запрошен при каждом вызове sudo.

===== Выставить права доступа к этому файлу =====

''sudo chmod 440 /etc/sudoers.d/timeout''

Файлы sudoers должны быть только для чтения.

===== Проверить синтаксис файла =====

''sudo visudo -c''

Ждём в ответ 

''/etc/sudoers.d/timeout: parsed OK''

иначе алярм.
